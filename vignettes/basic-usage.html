<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Mauricio Vargas S." />

<meta name="date" content="2019-07-31" />

<title>How to use this package</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">How to use this package</h1>
<h4 class="author">Mauricio Vargas S.</h4>
<h4 class="date">2019-07-31</h4>



<div id="package-data" class="section level1">
<h1>Package data</h1>
<div id="available-tables" class="section level2">
<h2>Available tables</h2>
<p>Provided that this package obtains data from an API, it is useful to know which tables can be accessed:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(tradestatistics)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">ots_tables</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co">#&gt; # A tibble: 16 x 3</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="co">#&gt;    table      description                        source                    </span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co">#&gt;    &lt;chr&gt;      &lt;chr&gt;                              &lt;chr&gt;                     </span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co">#&gt;  1 countries  Countries metadata                 UN Comtrade               </span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co">#&gt;  2 products   Product metadata                   UN Comtrade               </span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co">#&gt;  3 reporters  Reporting countries                UN Comtrade               </span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="co">#&gt;  4 communiti… Product communities                Center for International …</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="co">#&gt;  5 product_s… Product short names                The Observatory of Econom…</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="co">#&gt;  6 country_r… Ranking of countries               UN Comtrade               </span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13"><span class="co">#&gt;  7 product_r… Ranking of products                Open Trade Statistics     </span></a>
<a class="sourceLine" id="cb1-14" data-line-number="14"><span class="co">#&gt;  8 yrpc       Bilateral trade at product level … Open Trade Statistics     </span></a>
<a class="sourceLine" id="cb1-15" data-line-number="15"><span class="co">#&gt;  9 yrp        Reporter trade at aggregated leve… Open Trade Statistics     </span></a>
<a class="sourceLine" id="cb1-16" data-line-number="16"><span class="co">#&gt; 10 yrp_short  Reporter trade at aggregated leve… Open Trade Statistics     </span></a>
<a class="sourceLine" id="cb1-17" data-line-number="17"><span class="co">#&gt; 11 yrc        Reporter trade at aggregated leve… Open Trade Statistics     </span></a>
<a class="sourceLine" id="cb1-18" data-line-number="18"><span class="co">#&gt; 12 yrc_expor… Reporter trade at aggregated leve… Open Trade Statistics     </span></a>
<a class="sourceLine" id="cb1-19" data-line-number="19"><span class="co">#&gt; 13 yrc_impor… Reporter trade at aggregated leve… Open Trade Statistics     </span></a>
<a class="sourceLine" id="cb1-20" data-line-number="20"><span class="co">#&gt; 14 yr         Reporter trade at aggregated leve… Open Trade Statistics     </span></a>
<a class="sourceLine" id="cb1-21" data-line-number="21"><span class="co">#&gt; 15 yr_short   Reporter trade at aggregated leve… Open Trade Statistics     </span></a>
<a class="sourceLine" id="cb1-22" data-line-number="22"><span class="co">#&gt; 16 yc         Product trade at aggregated level… Open Trade Statistics</span></a></code></pre></div>
</div>
<div id="country-codes" class="section level2">
<h2>Country codes</h2>
<p>The Package Functions section explains that you don’t need to memorize all ISO codes. The functions within this package are designed to match strings (i.e. “United States” or “America”) to valid ISO codes (i.e. “USA”).</p>
<p>Just as a reference, the table with all valid ISO codes can be accessed by running this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">ots_countries</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">#&gt; # A tibble: 249 x 6</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt;    country_iso country_name_en… country_fullnam… continent_id continent</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;    </span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt;  1 afg         Afghanistan      Afghanistan                 1 Asia     </span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt;  2 alb         Albania          Albania                     2 Europe   </span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt;  3 dza         Algeria          Algeria                     3 Africa   </span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#&gt;  4 asm         American Samoa   American Samoa              4 Oceania  </span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt;  5 and         Andorra          Andorra                     2 Europe   </span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt;  6 ago         Angola           Angola                      3 Africa   </span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt;  7 aia         Anguilla         Anguilla                    5 Americas </span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt;  8 atg         Antigua and Bar… Antigua and Bar…            5 Americas </span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">#&gt;  9 arg         Argentina        Argentina                   5 Americas </span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt; 10 arm         Armenia          Armenia                     1 Asia     </span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt; # … with 239 more rows, and 1 more variable: eu28_member &lt;int&gt;</span></a></code></pre></div>
</div>
<div id="product-codes-and-communities" class="section level2">
<h2>Product codes and communities</h2>
<p>The Package Functions section explains that you don’t need to memorize all HS codes. The functions within this package are designed to match strings (i.e. “apple”) to valid HS codes (i.e. “0808”).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">ots_products</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">#&gt; # A tibble: 6,373 x 4</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt;    product_code product_fullname_english             group_code group_name </span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt;    &lt;chr&gt;        &lt;chr&gt;                                &lt;chr&gt;      &lt;chr&gt;      </span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt;  1 0101         Horses, asses, mules and hinnies; l… 01         Animals; l…</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt;  2 010110       Horses, asses, mules and hinnies; l… 01         Animals; l…</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt;  3 010190       Horses, asses, mules and hinnies; l… 01         Animals; l…</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;  4 0102         Bovine animals; live                 01         Animals; l…</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;  5 010210       Bovine animals; live, pure-bred bre… 01         Animals; l…</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;  6 010290       Bovine animals; live, other than pu… 01         Animals; l…</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;  7 0103         Swine; live                          01         Animals; l…</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt;  8 010310       Swine; live, pure-bred breeding ani… 01         Animals; l…</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt;  9 010391       Swine; live, (other than pure-bred … 01         Animals; l…</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt; 10 010392       Swine; live, (other than pure-bred … 01         Animals; l…</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt; # … with 6,363 more rows</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16">ots_product_shortnames</a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt; # A tibble: 1,222 x 2</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="co">#&gt;    product_code product_shortname_english</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="co">#&gt;    &lt;chr&gt;        &lt;chr&gt;                    </span></a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="co">#&gt;  1 0101         Horses                   </span></a>
<a class="sourceLine" id="cb3-21" data-line-number="21"><span class="co">#&gt;  2 0102         Bovine                   </span></a>
<a class="sourceLine" id="cb3-22" data-line-number="22"><span class="co">#&gt;  3 0103         Pigs                     </span></a>
<a class="sourceLine" id="cb3-23" data-line-number="23"><span class="co">#&gt;  4 0104         Sheep and Goats          </span></a>
<a class="sourceLine" id="cb3-24" data-line-number="24"><span class="co">#&gt;  5 0105         Poultry                  </span></a>
<a class="sourceLine" id="cb3-25" data-line-number="25"><span class="co">#&gt;  6 0106         Other Animals            </span></a>
<a class="sourceLine" id="cb3-26" data-line-number="26"><span class="co">#&gt;  7 0201         Bovine Meat              </span></a>
<a class="sourceLine" id="cb3-27" data-line-number="27"><span class="co">#&gt;  8 0202         Frozen Bovine Meat       </span></a>
<a class="sourceLine" id="cb3-28" data-line-number="28"><span class="co">#&gt;  9 0203         Pig Meat                 </span></a>
<a class="sourceLine" id="cb3-29" data-line-number="29"><span class="co">#&gt; 10 0204         Sheep and Goat Meat      </span></a>
<a class="sourceLine" id="cb3-30" data-line-number="30"><span class="co">#&gt; # … with 1,212 more rows</span></a>
<a class="sourceLine" id="cb3-31" data-line-number="31">ots_communities</a>
<a class="sourceLine" id="cb3-32" data-line-number="32"><span class="co">#&gt; # A tibble: 6,275 x 4</span></a>
<a class="sourceLine" id="cb3-33" data-line-number="33"><span class="co">#&gt;    product_code community_code community_name  community_color</span></a>
<a class="sourceLine" id="cb3-34" data-line-number="34"><span class="co">#&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;chr&gt;           &lt;chr&gt;          </span></a>
<a class="sourceLine" id="cb3-35" data-line-number="35"><span class="co">#&gt;  1 0101         01             Animal Products #74c0e2        </span></a>
<a class="sourceLine" id="cb3-36" data-line-number="36"><span class="co">#&gt;  2 010110       01             Animal Products #74c0e2        </span></a>
<a class="sourceLine" id="cb3-37" data-line-number="37"><span class="co">#&gt;  3 010190       01             Animal Products #74c0e2        </span></a>
<a class="sourceLine" id="cb3-38" data-line-number="38"><span class="co">#&gt;  4 0102         01             Animal Products #74c0e2        </span></a>
<a class="sourceLine" id="cb3-39" data-line-number="39"><span class="co">#&gt;  5 010210       01             Animal Products #74c0e2        </span></a>
<a class="sourceLine" id="cb3-40" data-line-number="40"><span class="co">#&gt;  6 010290       01             Animal Products #74c0e2        </span></a>
<a class="sourceLine" id="cb3-41" data-line-number="41"><span class="co">#&gt;  7 0103         01             Animal Products #74c0e2        </span></a>
<a class="sourceLine" id="cb3-42" data-line-number="42"><span class="co">#&gt;  8 010310       01             Animal Products #74c0e2        </span></a>
<a class="sourceLine" id="cb3-43" data-line-number="43"><span class="co">#&gt;  9 010391       01             Animal Products #74c0e2        </span></a>
<a class="sourceLine" id="cb3-44" data-line-number="44"><span class="co">#&gt; 10 010392       01             Animal Products #74c0e2        </span></a>
<a class="sourceLine" id="cb3-45" data-line-number="45"><span class="co">#&gt; # … with 6,265 more rows</span></a></code></pre></div>
</div>
<div id="inflation-data" class="section level2">
<h2>Inflation data</h2>
<p>This table is provided to be used with <code>ots_inflation_adjustment()</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">ots_inflation</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">#&gt;    from   to conversion_factor</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#&gt; 1  1962 1963            1.0308</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt; 2  1963 1964            1.0338</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; 3  1964 1965            1.0412</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt; 4  1965 1966            1.0532</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt; 5  1966 1967            1.0354</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt; 6  1967 1968            1.0398</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt; 7  1968 1969            1.0364</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt; 8  1969 1970            1.0502</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt; 9  1970 1971            1.0546</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt; 10 1971 1972            1.0588</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt; 11 1972 1973            1.0917</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt; 12 1973 1974            1.1540</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt; 13 1974 1975            1.1247</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt; 14 1975 1976            1.0969</span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co">#&gt; 15 1976 1977            1.1035</span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="co">#&gt; 16 1977 1978            1.0862</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19"><span class="co">#&gt; 17 1978 1979            1.1010</span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20"><span class="co">#&gt; 18 1979 1980            1.1374</span></a>
<a class="sourceLine" id="cb4-21" data-line-number="21"><span class="co">#&gt; 19 1980 1981            1.1284</span></a>
<a class="sourceLine" id="cb4-22" data-line-number="22"><span class="co">#&gt; 20 1981 1982            1.1038</span></a>
<a class="sourceLine" id="cb4-23" data-line-number="23"><span class="co">#&gt; 21 1982 1983            1.0937</span></a>
<a class="sourceLine" id="cb4-24" data-line-number="24"><span class="co">#&gt; 22 1983 1984            1.0904</span></a>
<a class="sourceLine" id="cb4-25" data-line-number="25"><span class="co">#&gt; 23 1984 1985            1.0868</span></a>
<a class="sourceLine" id="cb4-26" data-line-number="26"><span class="co">#&gt; 24 1985 1986            1.0650</span></a>
<a class="sourceLine" id="cb4-27" data-line-number="27"><span class="co">#&gt; 25 1986 1987            1.0698</span></a>
<a class="sourceLine" id="cb4-28" data-line-number="28"><span class="co">#&gt; 26 1987 1988            1.0997</span></a>
<a class="sourceLine" id="cb4-29" data-line-number="29"><span class="co">#&gt; 27 1988 1989            1.1464</span></a>
<a class="sourceLine" id="cb4-30" data-line-number="30"><span class="co">#&gt; 28 1989 1990            1.2329</span></a>
<a class="sourceLine" id="cb4-31" data-line-number="31"><span class="co">#&gt; 29 1990 1991            1.1104</span></a>
<a class="sourceLine" id="cb4-32" data-line-number="32"><span class="co">#&gt; 30 1991 1992            1.1096</span></a>
<a class="sourceLine" id="cb4-33" data-line-number="33"><span class="co">#&gt; 31 1992 1993            1.2079</span></a>
<a class="sourceLine" id="cb4-34" data-line-number="34"><span class="co">#&gt; 32 1993 1994            1.2389</span></a>
<a class="sourceLine" id="cb4-35" data-line-number="35"><span class="co">#&gt; 33 1994 1995            1.0915</span></a>
<a class="sourceLine" id="cb4-36" data-line-number="36"><span class="co">#&gt; 34 1995 1996            1.0651</span></a>
<a class="sourceLine" id="cb4-37" data-line-number="37"><span class="co">#&gt; 35 1996 1997            1.0472</span></a>
<a class="sourceLine" id="cb4-38" data-line-number="38"><span class="co">#&gt; 36 1997 1998            1.0439</span></a>
<a class="sourceLine" id="cb4-39" data-line-number="39"><span class="co">#&gt; 37 1998 1999            1.0342</span></a>
<a class="sourceLine" id="cb4-40" data-line-number="40"><span class="co">#&gt; 38 1999 2000            1.0368</span></a>
<a class="sourceLine" id="cb4-41" data-line-number="41"><span class="co">#&gt; 39 2000 2001            1.0379</span></a>
<a class="sourceLine" id="cb4-42" data-line-number="42"><span class="co">#&gt; 40 2001 2002            1.0295</span></a>
<a class="sourceLine" id="cb4-43" data-line-number="43"><span class="co">#&gt; 41 2002 2003            1.0310</span></a>
<a class="sourceLine" id="cb4-44" data-line-number="44"><span class="co">#&gt; 42 2003 2004            1.0317</span></a>
<a class="sourceLine" id="cb4-45" data-line-number="45"><span class="co">#&gt; 43 2004 2005            1.0363</span></a>
<a class="sourceLine" id="cb4-46" data-line-number="46"><span class="co">#&gt; 44 2005 2006            1.0378</span></a>
<a class="sourceLine" id="cb4-47" data-line-number="47"><span class="co">#&gt; 45 2006 2007            1.0407</span></a>
<a class="sourceLine" id="cb4-48" data-line-number="48"><span class="co">#&gt; 46 2007 2008            1.0695</span></a>
<a class="sourceLine" id="cb4-49" data-line-number="49"><span class="co">#&gt; 47 2008 2009            1.0233</span></a>
<a class="sourceLine" id="cb4-50" data-line-number="50"><span class="co">#&gt; 48 2009 2010            1.0299</span></a>
<a class="sourceLine" id="cb4-51" data-line-number="51"><span class="co">#&gt; 49 2010 2011            1.0450</span></a>
<a class="sourceLine" id="cb4-52" data-line-number="52"><span class="co">#&gt; 50 2011 2012            1.0348</span></a>
<a class="sourceLine" id="cb4-53" data-line-number="53"><span class="co">#&gt; 51 2012 2013            1.0274</span></a>
<a class="sourceLine" id="cb4-54" data-line-number="54"><span class="co">#&gt; 52 2013 2014            1.0228</span></a>
<a class="sourceLine" id="cb4-55" data-line-number="55"><span class="co">#&gt; 53 2014 2015            1.0151</span></a>
<a class="sourceLine" id="cb4-56" data-line-number="56"><span class="co">#&gt; 54 2015 2016            1.0157</span></a>
<a class="sourceLine" id="cb4-57" data-line-number="57"><span class="co">#&gt; 55 2016 2017            1.0241</span></a>
<a class="sourceLine" id="cb4-58" data-line-number="58"><span class="co">#&gt; 56 2017 2018            1.0258</span></a></code></pre></div>
</div>
</div>
<div id="package-functions" class="section level1">
<h1>Package functions</h1>
<div id="country-code" class="section level2">
<h2>Country code</h2>
<p>The end user can use this function to find an ISO code by providing a country name. This works by implementing partial search.</p>
<p>Basic examples:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># Single match with no replacement</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw">ots_country_code</span>(<span class="st">&quot;Chile&quot;</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">#&gt; # A tibble: 1 x 6</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt;   country_iso country_name_en… country_fullnam… continent_id continent</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;    </span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt; 1 chl         Chile            Chile                       5 Americas </span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt; # … with 1 more variable: eu28_member &lt;int&gt;</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co"># Single match with replacement</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="kw">ots_country_code</span>(<span class="st">&quot;America&quot;</span>)</a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt; # A tibble: 1 x 6</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt;   country_iso country_name_en… country_fullnam… continent_id continent</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;    </span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt; 1 usa         USA              USA, Puerto Ric…            5 Americas </span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt; # … with 1 more variable: eu28_member &lt;int&gt;</span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"><span class="co"># Double match with no replacement</span></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="kw">ots_country_code</span>(<span class="st">&quot;Germany&quot;</span>)</a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="co">#&gt; # A tibble: 2 x 6</span></a>
<a class="sourceLine" id="cb5-20" data-line-number="20"><span class="co">#&gt;   country_iso country_name_en… country_fullnam… continent_id continent</span></a>
<a class="sourceLine" id="cb5-21" data-line-number="21"><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;    </span></a>
<a class="sourceLine" id="cb5-22" data-line-number="22"><span class="co">#&gt; 1 ddr         Fmr Dem. Rep. o… Fmr Dem. Rep. o…            2 Europe   </span></a>
<a class="sourceLine" id="cb5-23" data-line-number="23"><span class="co">#&gt; 2 deu         Germany          Germany (former…            2 Europe   </span></a>
<a class="sourceLine" id="cb5-24" data-line-number="24"><span class="co">#&gt; # … with 1 more variable: eu28_member &lt;int&gt;</span></a></code></pre></div>
<p>The function <code>ots_country_code()</code> is used by <code>ots_create_tidy_data()</code> in a way that you can pass parameters like <code>ots_create_tidy_data(... reporters = &quot;Chile&quot; ...)</code> and it will automatically replace your input for a valid ISO in case there is a match. This will be covered in detail in the Trade Data section.</p>
</div>
<div id="product-code" class="section level2">
<h2>Product code</h2>
<p>The end user can use this function to find a product code by providing a product name. This works by implementing partial string matching:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">ots_product_code</span>(<span class="st">&quot;wine&quot;</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="co">#&gt; # A tibble: 58 x 5</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt;    product_code product_fullname_engli… group_code group_name  type_product</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">#&gt;    &lt;chr&gt;        &lt;chr&gt;                   &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;       </span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt;  1 0103         Swine; live             01         Animals; l… wine        </span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt;  2 010310       Swine; live, pure-bred… 01         Animals; l… wine        </span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt;  3 010391       Swine; live, (other th… 01         Animals; l… wine        </span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt;  4 010392       Swine; live, (other th… 01         Animals; l… wine        </span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt;  5 0203         Meat of swine; fresh, … 02         Meat and e… wine        </span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt;  6 020311       Meat; of swine, carcas… 02         Meat and e… wine        </span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt;  7 020312       Meat; of swine, hams, … 02         Meat and e… wine        </span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co">#&gt;  8 020319       Meat; of swine, n.e.c.… 02         Meat and e… wine        </span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co">#&gt;  9 020321       Meat; of swine, carcas… 02         Meat and e… wine        </span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">#&gt; 10 020322       Meat; of swine, hams, … 02         Meat and e… wine        </span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#&gt; # … with 48 more rows</span></a></code></pre></div>
</div>
<div id="trade-data" class="section level2">
<h2>Trade data</h2>
<p>This function downloads data for a single year and needs (at least) some filter parameters according to the query type.</p>
<div id="bilateral-trade-at-product-level-year---reporter---partner---product-code" class="section level3">
<h3>Bilateral trade at product level (Year - Reporter - Partner - Product Code)</h3>
<p>If we want Chile-Argentina bilateral trade at product level in 1965:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">ots_create_tidy_data</span>(<span class="dt">years =</span> <span class="dv">1965</span>, <span class="dt">reporters =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">partners =</span> <span class="st">&quot;arg&quot;</span>)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="co">#&gt; # A tibble: 317 x 16</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="co">#&gt;     year reporter_iso partner_iso reporter_fullna… partner_fullnam…</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt;  1  1965 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt;  2  1965 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">#&gt;  3  1965 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="co">#&gt;  4  1965 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co">#&gt;  5  1965 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="co">#&gt;  6  1965 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="co">#&gt;  7  1965 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co">#&gt;  8  1965 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb7-13" data-line-number="13"><span class="co">#&gt;  9  1965 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb7-14" data-line-number="14"><span class="co">#&gt; 10  1965 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb7-15" data-line-number="15"><span class="co">#&gt; # … with 307 more rows, and 11 more variables: product_code &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16"><span class="co">#&gt; #   product_code_length &lt;int&gt;, product_fullname_english &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb7-17" data-line-number="17"><span class="co">#&gt; #   group_code &lt;chr&gt;, group_name &lt;chr&gt;, export_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb7-18" data-line-number="18"><span class="co">#&gt; #   import_value_usd &lt;int&gt;, export_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb7-19" data-line-number="19"><span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb7-20" data-line-number="20"><span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb7-21" data-line-number="21"><span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb7-22" data-line-number="22"></a>
<a class="sourceLine" id="cb7-23" data-line-number="23"><span class="co"># the same can be obtained specifying yrpc which is the default table</span></a>
<a class="sourceLine" id="cb7-24" data-line-number="24"><span class="co"># ots_create_tidy_data(years = 1965, reporters = &quot;chl&quot;, partners = &quot;arg&quot;, table = &quot;yrpc&quot;)</span></a></code></pre></div>
<p>We can pass more than one year and or reporter/partner:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># Note that here I'm passing Peru and not per which is the ISO code for Peru</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co"># The same applies to Brazil</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="kw">ots_create_tidy_data</span>(<span class="dt">years =</span> <span class="kw">c</span>(<span class="dv">1962</span>,<span class="dv">1965</span>), <span class="dt">reporters =</span> <span class="kw">c</span>(<span class="st">&quot;chl&quot;</span>, <span class="st">&quot;Peru&quot;</span>, <span class="st">&quot;bol&quot;</span>), <span class="dt">partners =</span> <span class="kw">c</span>(<span class="st">&quot;arg&quot;</span>, <span class="st">&quot;Brazil&quot;</span>))</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">#&gt; # A tibble: 2,538 x 16</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co">#&gt;     year reporter_iso partner_iso reporter_fullna… partner_fullnam…</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt;  1  1962 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co">#&gt;  2  1962 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="co">#&gt;  3  1962 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="co">#&gt;  4  1962 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="co">#&gt;  5  1962 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="co">#&gt;  6  1962 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="co">#&gt;  7  1962 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb8-14" data-line-number="14"><span class="co">#&gt;  8  1962 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="co">#&gt;  9  1962 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16"><span class="co">#&gt; 10  1962 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb8-17" data-line-number="17"><span class="co">#&gt; # … with 2,528 more rows, and 11 more variables: product_code &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb8-18" data-line-number="18"><span class="co">#&gt; #   product_code_length &lt;int&gt;, product_fullname_english &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb8-19" data-line-number="19"><span class="co">#&gt; #   group_code &lt;chr&gt;, group_name &lt;chr&gt;, export_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb8-20" data-line-number="20"><span class="co">#&gt; #   import_value_usd &lt;int&gt;, export_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb8-21" data-line-number="21"><span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb8-22" data-line-number="22"><span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb8-23" data-line-number="23"><span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;</span></a></code></pre></div>
<p>If we want filtering by product, there are different options:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># Pass a specific HS code</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="kw">ots_create_tidy_data</span>(<span class="dt">years =</span> <span class="kw">c</span>(<span class="dv">1962</span>,<span class="dv">1965</span>), <span class="dt">reporters =</span> <span class="kw">c</span>(<span class="st">&quot;chl&quot;</span>, <span class="st">&quot;Peru&quot;</span>, <span class="st">&quot;bol&quot;</span>), <span class="dt">partners =</span> <span class="kw">c</span>(<span class="st">&quot;arg&quot;</span>, <span class="st">&quot;bra&quot;</span>), <span class="dt">products =</span> <span class="st">&quot;0101&quot;</span>)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="co">#&gt; # A tibble: 11 x 17</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="co">#&gt;     year reporter_iso partner_iso reporter_fullna… partner_fullnam…</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">#&gt;  1  1962 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="co">#&gt;  2  1965 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="co">#&gt;  3  1962 bol          arg         Bolivia          Argentina       </span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="co">#&gt;  4  1965 bol          arg         Bolivia          Argentina       </span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="co">#&gt;  5  1962 per          arg         Peru             Argentina       </span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="co">#&gt;  6  1965 per          arg         Peru             Argentina       </span></a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="co">#&gt;  7  1962 chl          bra         Chile            Brazil          </span></a>
<a class="sourceLine" id="cb9-13" data-line-number="13"><span class="co">#&gt;  8  1965 chl          bra         Chile            Brazil          </span></a>
<a class="sourceLine" id="cb9-14" data-line-number="14"><span class="co">#&gt;  9  1965 bol          bra         Bolivia          Brazil          </span></a>
<a class="sourceLine" id="cb9-15" data-line-number="15"><span class="co">#&gt; 10  1962 per          bra         Peru             Brazil          </span></a>
<a class="sourceLine" id="cb9-16" data-line-number="16"><span class="co">#&gt; 11  1965 per          bra         Peru             Brazil          </span></a>
<a class="sourceLine" id="cb9-17" data-line-number="17"><span class="co">#&gt; # … with 12 more variables: product_code &lt;chr&gt;, product_code_length &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb9-18" data-line-number="18"><span class="co">#&gt; #   product_fullname_english &lt;chr&gt;, group_code &lt;chr&gt;, group_name &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb9-19" data-line-number="19"><span class="co">#&gt; #   export_value_usd &lt;int&gt;, import_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb9-20" data-line-number="20"><span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb9-21" data-line-number="21"><span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb9-22" data-line-number="22"><span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb9-23" data-line-number="23"><span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;, observation &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb9-24" data-line-number="24"></a>
<a class="sourceLine" id="cb9-25" data-line-number="25"><span class="co"># Pass a string that will return all matching descriptions and multiple HS codes</span></a>
<a class="sourceLine" id="cb9-26" data-line-number="26"><span class="kw">ots_create_tidy_data</span>(<span class="dt">years =</span> <span class="kw">c</span>(<span class="dv">1962</span>,<span class="dv">1965</span>), <span class="dt">reporters =</span> <span class="kw">c</span>(<span class="st">&quot;chl&quot;</span>, <span class="st">&quot;Peru&quot;</span>, <span class="st">&quot;bol&quot;</span>), <span class="dt">partners =</span> <span class="kw">c</span>(<span class="st">&quot;arg&quot;</span>, <span class="st">&quot;bra&quot;</span>), <span class="dt">products =</span> <span class="kw">c</span>(<span class="st">&quot;0101&quot;</span>, <span class="st">&quot;apple&quot;</span>))</a>
<a class="sourceLine" id="cb9-27" data-line-number="27"><span class="co">#&gt; # A tibble: 27 x 17</span></a>
<a class="sourceLine" id="cb9-28" data-line-number="28"><span class="co">#&gt;     year reporter_iso partner_iso reporter_fullna… partner_fullnam…</span></a>
<a class="sourceLine" id="cb9-29" data-line-number="29"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb9-30" data-line-number="30"><span class="co">#&gt;  1  1962 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb9-31" data-line-number="31"><span class="co">#&gt;  2  1965 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb9-32" data-line-number="32"><span class="co">#&gt;  3  1962 bol          arg         Bolivia          Argentina       </span></a>
<a class="sourceLine" id="cb9-33" data-line-number="33"><span class="co">#&gt;  4  1965 bol          arg         Bolivia          Argentina       </span></a>
<a class="sourceLine" id="cb9-34" data-line-number="34"><span class="co">#&gt;  5  1962 per          arg         Peru             Argentina       </span></a>
<a class="sourceLine" id="cb9-35" data-line-number="35"><span class="co">#&gt;  6  1965 per          arg         Peru             Argentina       </span></a>
<a class="sourceLine" id="cb9-36" data-line-number="36"><span class="co">#&gt;  7  1962 chl          bra         Chile            Brazil          </span></a>
<a class="sourceLine" id="cb9-37" data-line-number="37"><span class="co">#&gt;  8  1965 chl          bra         Chile            Brazil          </span></a>
<a class="sourceLine" id="cb9-38" data-line-number="38"><span class="co">#&gt;  9  1965 bol          bra         Bolivia          Brazil          </span></a>
<a class="sourceLine" id="cb9-39" data-line-number="39"><span class="co">#&gt; 10  1962 per          bra         Peru             Brazil          </span></a>
<a class="sourceLine" id="cb9-40" data-line-number="40"><span class="co">#&gt; # … with 17 more rows, and 12 more variables: product_code &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb9-41" data-line-number="41"><span class="co">#&gt; #   product_code_length &lt;int&gt;, product_fullname_english &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb9-42" data-line-number="42"><span class="co">#&gt; #   group_code &lt;chr&gt;, group_name &lt;chr&gt;, export_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb9-43" data-line-number="43"><span class="co">#&gt; #   import_value_usd &lt;int&gt;, export_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb9-44" data-line-number="44"><span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb9-45" data-line-number="45"><span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb9-46" data-line-number="46"><span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;, observation &lt;chr&gt;</span></a></code></pre></div>
<p><code>yrpc</code> table returns some fields that deserve an explanation:</p>
<ul>
<li><code>product_code</code>: HS07 product codes (e.g. according to the  table within this package, 0101 stands for “Horses, etc.”)</li>
<li><code>product_code_length</code>: How many digits does <code>product_code</code> contain, this can be useful to filter by depth when using HS codes (HS 6 digits is a more detailed version of HS 4 digits, and therefore you don’t have to sum both or you’ll be counting exports/imports twice)</li>
<li><code>group_code</code>: International categorization of group products defined after product ID</li>
<li><code>group_name</code>: English name corresponding to <code>group_id</code></li>
<li><code>export_value_usd</code>: Exports measured in nominal United States Dollars (USD)</li>
<li><code>import_value_usd</code>: Imports measured in nominal United States Dollars (USD)</li>
<li><code>export_value_usd_percentage_change_1_year</code>: Nominal increase/decrease in exports measured as percentage with respect to last year</li>
<li><code>export_value_usd_percentage_change_5_years</code>: Nominal increase/decrease in exports measured as percentage with respect to five years ago</li>
<li><code>export_value_usd_change_1_year</code>: Nominal increase/decrease in exports measured in USD with respect to last year</li>
<li><code>export_value_usd_change_5_years</code>: Nominal increase/decrease in exports measured in USD with respect to five years ago</li>
</ul>
</div>
<div id="bilateral-trade-at-aggregated-level-year---reporter---partner" class="section level3">
<h3>Bilateral trade at aggregated level (Year - Reporter - Partner)</h3>
<p>If we want Chile-Argentina bilateral trade at aggregated level in 1965:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">ots_create_tidy_data</span>(<span class="dt">years =</span> <span class="dv">1965</span>, <span class="dt">reporters =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">partners =</span> <span class="st">&quot;arg&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yrp&quot;</span>)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="co">#&gt; # A tibble: 1 x 11</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="co">#&gt;    year reporter_iso partner_iso reporter_fullna… partner_fullnam…</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="co">#&gt; 1  1965 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="co">#&gt; # … with 6 more variables: export_value_usd &lt;int&gt;, import_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;</span></a></code></pre></div>
<p>Another option is to pass more than one year, reporter and/or partner:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">ots_create_tidy_data</span>(<span class="dt">years =</span> <span class="dv">1962</span><span class="op">:</span><span class="dv">1965</span>, <span class="dt">reporters =</span> <span class="kw">c</span>(<span class="st">&quot;chl&quot;</span>, <span class="st">&quot;per&quot;</span>), <span class="dt">partners =</span> <span class="st">&quot;arg&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yrp&quot;</span>)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co">#&gt; # A tibble: 8 x 11</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co">#&gt;    year reporter_iso partner_iso reporter_fullna… partner_fullnam…</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           </span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="co">#&gt; 1  1962 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="co">#&gt; 2  1963 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt; 3  1964 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="co">#&gt; 4  1965 chl          arg         Chile            Argentina       </span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">#&gt; 5  1962 per          arg         Peru             Argentina       </span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co">#&gt; 6  1963 per          arg         Peru             Argentina       </span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="co">#&gt; 7  1964 per          arg         Peru             Argentina       </span></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="co">#&gt; 8  1965 per          arg         Peru             Argentina       </span></a>
<a class="sourceLine" id="cb11-13" data-line-number="13"><span class="co">#&gt; # … with 6 more variables: export_value_usd &lt;int&gt;, import_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb11-14" data-line-number="14"><span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb11-15" data-line-number="15"><span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb11-16" data-line-number="16"><span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb11-17" data-line-number="17"><span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;</span></a></code></pre></div>
<p>This table accepts different years, reporters and partners just like <code>yrpc</code>.</p>
</div>
<div id="reporter-trade-at-product-level-year---reporter---product-code" class="section level3">
<h3>Reporter trade at product level (Year - Reporter - Product Code)</h3>
<p>If we want Chilean trade at product level in 1965:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">ots_create_tidy_data</span>(<span class="dt">years =</span> <span class="dv">1965</span>, <span class="dt">reporters =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yrc&quot;</span>)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="co">#&gt; # A tibble: 907 x 16</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="co">#&gt;     year reporter_iso reporter_fullna… product_code product_code_le…</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;            &lt;chr&gt;                   &lt;int&gt;</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="co">#&gt;  1  1965 chl          Chile            0101                        4</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="co">#&gt;  2  1965 chl          Chile            0102                        4</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co">#&gt;  3  1965 chl          Chile            0103                        4</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="co">#&gt;  4  1965 chl          Chile            0104                        4</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9"><span class="co">#&gt;  5  1965 chl          Chile            0105                        4</span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10"><span class="co">#&gt;  6  1965 chl          Chile            0106                        4</span></a>
<a class="sourceLine" id="cb12-11" data-line-number="11"><span class="co">#&gt;  7  1965 chl          Chile            0201                        4</span></a>
<a class="sourceLine" id="cb12-12" data-line-number="12"><span class="co">#&gt;  8  1965 chl          Chile            0203                        4</span></a>
<a class="sourceLine" id="cb12-13" data-line-number="13"><span class="co">#&gt;  9  1965 chl          Chile            0204                        4</span></a>
<a class="sourceLine" id="cb12-14" data-line-number="14"><span class="co">#&gt; 10  1965 chl          Chile            0206                        4</span></a>
<a class="sourceLine" id="cb12-15" data-line-number="15"><span class="co">#&gt; # … with 897 more rows, and 11 more variables:</span></a>
<a class="sourceLine" id="cb12-16" data-line-number="16"><span class="co">#&gt; #   product_fullname_english &lt;chr&gt;, group_code &lt;chr&gt;, group_name &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb12-17" data-line-number="17"><span class="co">#&gt; #   export_value_usd &lt;int&gt;, import_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb12-18" data-line-number="18"><span class="co">#&gt; #   export_rca_4_digits_product_code &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb12-19" data-line-number="19"><span class="co">#&gt; #   import_rca_4_digits_product_code &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb12-20" data-line-number="20"><span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb12-21" data-line-number="21"><span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb12-22" data-line-number="22"><span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb12-23" data-line-number="23"><span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;</span></a></code></pre></div>
<p>If we want Chilean trade at product level in 1965 with respect to product “0101” (Horses, asses, mules and hinnies; live):</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">ots_create_tidy_data</span>(<span class="dt">years =</span> <span class="dv">1965</span>, <span class="dt">reporters =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">products =</span> <span class="st">&quot;0101&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yrc&quot;</span>)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="co">#&gt; # A tibble: 1 x 16</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="co">#&gt;    year reporter_iso reporter_fullna… product_code product_code_le…</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;            &lt;chr&gt;                   &lt;int&gt;</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="co">#&gt; 1  1965 chl          Chile            0101                        4</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co">#&gt; # … with 11 more variables: product_fullname_english &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="co">#&gt; #   group_code &lt;chr&gt;, group_name &lt;chr&gt;, export_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co">#&gt; #   import_value_usd &lt;int&gt;, export_rca_4_digits_product_code &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="co">#&gt; #   import_rca_4_digits_product_code &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb13-13" data-line-number="13"><span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;</span></a></code></pre></div>
<p>This table accepts different years, reporters and product codes just like <code>yrpc</code>.</p>
<p>Here the <code>export_rca*</code> and <code>import_rca*</code> fields contain the Revealed Comparative Advantage (RCA) of an exported product with respect to all the products with the same number of digits. The definition of RCA is detailed on <a href="https://docs.tradestatistics.io/">Open Trade Statistics Documentation</a>.</p>
</div>
<div id="reporter-trade-at-aggregated-level-year---reporter" class="section level3">
<h3>Reporter trade at aggregated level (Year - Reporter)</h3>
<p>If we want Chilean trade at aggregated level in 1965:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">ots_create_tidy_data</span>(<span class="dt">years =</span> <span class="dv">1965</span>, <span class="dt">reporters =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yr&quot;</span>)</a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="co">#&gt; # A tibble: 1 x 22</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="co">#&gt;    year reporter_iso reporter_fullna… export_value_usd import_value_usd</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;                       &lt;int&gt;            &lt;int&gt;</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="co">#&gt; 1  1965 chl          Chile                  1012377535        800179655</span></a>
<a class="sourceLine" id="cb14-6" data-line-number="6"><span class="co">#&gt; # … with 17 more variables: eci_fitness_method &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="co">#&gt; #   eci_rank_fitness_method &lt;int&gt;, eci_reflections_method &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8"><span class="co">#&gt; #   eci_rank_reflections_method &lt;int&gt;, eci_eigenvalues_method &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9"><span class="co">#&gt; #   eci_rank_eigenvalues_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb14-10" data-line-number="10"><span class="co">#&gt; #   eci_rank_delta_1_year_fitness_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb14-11" data-line-number="11"><span class="co">#&gt; #   eci_rank_delta_1_year_reflections_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb14-12" data-line-number="12"><span class="co">#&gt; #   eci_rank_delta_1_year_eigenvalues_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb14-13" data-line-number="13"><span class="co">#&gt; #   top_export_product_code &lt;chr&gt;, top_export_trade_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb14-14" data-line-number="14"><span class="co">#&gt; #   top_import_product_code &lt;chr&gt;, top_import_trade_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb14-15" data-line-number="15"><span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb14-16" data-line-number="16"><span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb14-17" data-line-number="17"><span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb14-18" data-line-number="18"><span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;</span></a></code></pre></div>
<p>Another option is to pass more than one year and/or reporter:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">ots_create_tidy_data</span>(<span class="dt">years =</span> <span class="dv">1962</span><span class="op">:</span><span class="dv">1965</span>, <span class="dt">reporters =</span> <span class="kw">c</span>(<span class="st">&quot;chl&quot;</span>, <span class="st">&quot;arg&quot;</span>, <span class="st">&quot;per&quot;</span>), <span class="dt">table =</span> <span class="st">&quot;yr&quot;</span>)</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="co">#&gt; # A tibble: 12 x 22</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="co">#&gt;     year reporter_iso reporter_fullna… export_value_usd import_value_usd</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;                       &lt;int&gt;            &lt;int&gt;</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="co">#&gt;  1  1962 chl          Chile                   686689403        695823377</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">#&gt;  2  1963 chl          Chile                   684739946        771099193</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">#&gt;  3  1964 chl          Chile                   838060302        724513056</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="co">#&gt;  4  1965 chl          Chile                  1012377535        800179655</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="co">#&gt;  5  1962 arg          Argentina              1497724584       1789906161</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="co">#&gt;  6  1963 arg          Argentina              1689338136       1283218008</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="co">#&gt;  7  1964 arg          Argentina              1759248714       1483644369</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="co">#&gt;  8  1965 arg          Argentina              1894320392       1701442737</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="co">#&gt;  9  1962 per          Peru                    676343986        601437849</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">#&gt; 10  1963 per          Peru                    785459639        651334910</span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">#&gt; 11  1964 per          Peru                    907795074        682595972</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="co">#&gt; 12  1965 per          Peru                    885790536        831010422</span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17"><span class="co">#&gt; # … with 17 more variables: eci_fitness_method &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="co">#&gt; #   eci_rank_fitness_method &lt;int&gt;, eci_reflections_method &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-19" data-line-number="19"><span class="co">#&gt; #   eci_rank_reflections_method &lt;int&gt;, eci_eigenvalues_method &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-20" data-line-number="20"><span class="co">#&gt; #   eci_rank_eigenvalues_method &lt;int&gt;, top_export_product_code &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-21" data-line-number="21"><span class="co">#&gt; #   top_export_trade_value_usd &lt;int&gt;, top_import_product_code &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb15-22" data-line-number="22"><span class="co">#&gt; #   top_import_trade_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb15-23" data-line-number="23"><span class="co">#&gt; #   eci_rank_delta_1_year_fitness_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb15-24" data-line-number="24"><span class="co">#&gt; #   eci_rank_delta_1_year_reflections_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb15-25" data-line-number="25"><span class="co">#&gt; #   eci_rank_delta_1_year_eigenvalues_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb15-26" data-line-number="26"><span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb15-27" data-line-number="27"><span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb15-28" data-line-number="28"><span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb15-29" data-line-number="29"><span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;</span></a></code></pre></div>
<p>This table accepts different years and reporters just like <code>yrpc</code>.</p>
<p>Here some fields deserve an explanation:</p>
<ul>
<li><code>eci_4_digits_product_code</code>: Economic Complexity Index (ECI) which is detailed on <a href="https://docs.tradestatistics.io/">Open Trade Statistics Documentation</a>. This index is built by using just four digits product codes.</li>
<li><code>eci_rank_4_digits_product_code</code>: The rank of a country given its ECI (e.g. the highest ECI obtains the #1)</li>
<li><code>eci_rank_4_digits_product_code_delta_1_year</code>: How many places a country increased or decreased with respect to last year</li>
</ul>
</div>
<div id="product-trade-at-aggregated-level-year---product-code" class="section level3">
<h3>Product trade at aggregated level (Year - Product Code)</h3>
<p>If we want all products traded in 1965:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">ots_create_tidy_data</span>(<span class="dt">years =</span> <span class="dv">1965</span>, <span class="dt">table =</span> <span class="st">&quot;yc&quot;</span>)</a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="co">#&gt; # A tibble: 991 x 25</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="co">#&gt;     year product_code product_code_le… product_fullnam… group_code</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;            &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="co">#&gt;  1  1965 0101                        4 Horses, asses, … 01        </span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"><span class="co">#&gt;  2  1965 0102                        4 Bovine animals;… 01        </span></a>
<a class="sourceLine" id="cb16-7" data-line-number="7"><span class="co">#&gt;  3  1965 0103                        4 Swine; live      01        </span></a>
<a class="sourceLine" id="cb16-8" data-line-number="8"><span class="co">#&gt;  4  1965 0104                        4 Sheep and goats… 01        </span></a>
<a class="sourceLine" id="cb16-9" data-line-number="9"><span class="co">#&gt;  5  1965 0105                        4 Poultry; live, … 01        </span></a>
<a class="sourceLine" id="cb16-10" data-line-number="10"><span class="co">#&gt;  6  1965 0106                        4 Animals, n.e.c.… 01        </span></a>
<a class="sourceLine" id="cb16-11" data-line-number="11"><span class="co">#&gt;  7  1965 0201                        4 Meat of bovine … 02        </span></a>
<a class="sourceLine" id="cb16-12" data-line-number="12"><span class="co">#&gt;  8  1965 0203                        4 Meat of swine; … 02        </span></a>
<a class="sourceLine" id="cb16-13" data-line-number="13"><span class="co">#&gt;  9  1965 0204                        4 Meat of sheep o… 02        </span></a>
<a class="sourceLine" id="cb16-14" data-line-number="14"><span class="co">#&gt; 10  1965 0205                        4 Meat of horses,… 02        </span></a>
<a class="sourceLine" id="cb16-15" data-line-number="15"><span class="co">#&gt; # … with 981 more rows, and 20 more variables: group_name &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb16-16" data-line-number="16"><span class="co">#&gt; #   export_value_usd &lt;dbl&gt;, import_value_usd &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb16-17" data-line-number="17"><span class="co">#&gt; #   pci_fitness_method &lt;dbl&gt;, pci_rank_fitness_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb16-18" data-line-number="18"><span class="co">#&gt; #   pci_reflections_method &lt;dbl&gt;, pci_rank_reflections_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb16-19" data-line-number="19"><span class="co">#&gt; #   pci_eigenvalues_method &lt;dbl&gt;, pci_rank_eigenvalues_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb16-20" data-line-number="20"><span class="co">#&gt; #   pci_rank_delta_1_year_fitness_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb16-21" data-line-number="21"><span class="co">#&gt; #   pci_rank_delta_1_year_reflections_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb16-22" data-line-number="22"><span class="co">#&gt; #   pci_rank_delta_1_year_eigenvalues_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb16-23" data-line-number="23"><span class="co">#&gt; #   top_exporter_iso &lt;chr&gt;, top_exporter_trade_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb16-24" data-line-number="24"><span class="co">#&gt; #   top_importer_iso &lt;chr&gt;, top_importer_trade_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb16-25" data-line-number="25"><span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb16-26" data-line-number="26"><span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb16-27" data-line-number="27"><span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb16-28" data-line-number="28"><span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;</span></a></code></pre></div>
<p>If we want traded values of product “0101” (Horses, asses, mules and hinnies; live) in 1965:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">ots_create_tidy_data</span>(<span class="dt">years =</span> <span class="dv">1965</span>, <span class="dt">products =</span> <span class="st">&quot;0101&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yc&quot;</span>)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="co">#&gt; # A tibble: 1 x 25</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co">#&gt;    year product_code product_code_le… product_fullnam… group_code</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;            &lt;chr&gt;     </span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co">#&gt; 1  1965 0101                        4 Horses, asses, … 01        </span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="co">#&gt; # … with 20 more variables: group_name &lt;chr&gt;, export_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="co">#&gt; #   import_value_usd &lt;int&gt;, pci_fitness_method &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="co">#&gt; #   pci_rank_fitness_method &lt;int&gt;, pci_reflections_method &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="co">#&gt; #   pci_rank_reflections_method &lt;int&gt;, pci_eigenvalues_method &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10"><span class="co">#&gt; #   pci_rank_eigenvalues_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb17-11" data-line-number="11"><span class="co">#&gt; #   pci_rank_delta_1_year_fitness_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb17-12" data-line-number="12"><span class="co">#&gt; #   pci_rank_delta_1_year_reflections_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb17-13" data-line-number="13"><span class="co">#&gt; #   pci_rank_delta_1_year_eigenvalues_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb17-14" data-line-number="14"><span class="co">#&gt; #   top_exporter_iso &lt;chr&gt;, top_exporter_trade_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb17-15" data-line-number="15"><span class="co">#&gt; #   top_importer_iso &lt;chr&gt;, top_importer_trade_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb17-16" data-line-number="16"><span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb17-17" data-line-number="17"><span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb17-18" data-line-number="18"><span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb17-19" data-line-number="19"><span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;</span></a></code></pre></div>
<p>This table accepts different product codes just like <code>yrpc</code>.</p>
<p>Here some fields deserve an explanation:</p>
<ul>
<li><code>pci_4_digits_product_code</code>: Product Complexity Index (PCI) which is detailed on <a href="https://docs.tradestatistics.io/">Open Trade Statistics Documentation</a>. This index is built by using just four digits product codes.</li>
<li><code>pci_6_digits_product_code</code>: Similar to the previous field but built by using just six digits product codes.</li>
<li><code>pci_rank_4_digits_product_code</code>: The rank of a product given its PCI (e.g. the highest PCI obtains the #1)</li>
<li><code>pci_rank_4_digits_product_code_delta_1_year</code>: How many places a country increased or decreased with respect to last year</li>
</ul>
</div>
</div>
<div id="inflation-adjustment" class="section level2">
<h2>Inflation adjustment</h2>
<p>Taking Year - Reporter table as an example, we can use <code>ots_inflation_adjustment()</code> to convert dollars from 1965 to dollars of 1970:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">library</span>(magrittr)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="kw">ots_create_tidy_data</span>(<span class="dt">years =</span> <span class="dv">1965</span>, <span class="dt">reporters =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yr&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="st">  </span><span class="kw">ots_inflation_adjustment</span>(<span class="dt">reference_year =</span> <span class="dv">1970</span>)</a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="co">#&gt; # A tibble: 1 x 20</span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5"><span class="co">#&gt;    year reporter_iso reporter_fullna… export_value_usd import_value_usd</span></a>
<a class="sourceLine" id="cb18-6" data-line-number="6"><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;                       &lt;dbl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb18-7" data-line-number="7"><span class="co">#&gt; 1  1965 chl          Chile                 1249426583.       987542392.</span></a>
<a class="sourceLine" id="cb18-8" data-line-number="8"><span class="co">#&gt; # … with 15 more variables: eci_fitness_method &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb18-9" data-line-number="9"><span class="co">#&gt; #   eci_rank_fitness_method &lt;int&gt;, eci_reflections_method &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb18-10" data-line-number="10"><span class="co">#&gt; #   eci_rank_reflections_method &lt;int&gt;, eci_eigenvalues_method &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb18-11" data-line-number="11"><span class="co">#&gt; #   eci_rank_eigenvalues_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb18-12" data-line-number="12"><span class="co">#&gt; #   eci_rank_delta_1_year_fitness_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb18-13" data-line-number="13"><span class="co">#&gt; #   eci_rank_delta_1_year_reflections_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb18-14" data-line-number="14"><span class="co">#&gt; #   eci_rank_delta_1_year_eigenvalues_method &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb18-15" data-line-number="15"><span class="co">#&gt; #   top_export_product_code &lt;chr&gt;, top_export_trade_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb18-16" data-line-number="16"><span class="co">#&gt; #   top_import_product_code &lt;chr&gt;, top_import_trade_value_usd &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb18-17" data-line-number="17"><span class="co">#&gt; #   conversion_year &lt;dbl&gt;, conversion_factor &lt;dbl&gt;</span></a></code></pre></div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
